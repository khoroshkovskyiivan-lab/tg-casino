<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Casino PRO+</title>
<style>
body{margin:0;font-family:Inter;background:#05070d;color:#fff;overflow:hidden}
#loginScreen{position:fixed;inset:0;display:flex;justify-content:center;align-items:center;background:#05070d}
.loginBox{background:#0f172a;padding:30px;border-radius:20px}
input{padding:12px;border:none;border-radius:10px;background:#1e293b;color:#fff;margin:5px}
button{padding:12px 20px;border:none;border-radius:10px;background:linear-gradient(45deg,#6366f1,#06b6d4);color:#fff;cursor:pointer}

#app{display:none;height:100vh}
.sidebar{position:fixed;left:0;top:0;bottom:0;width:200px;background:#0b1220;padding:20px}
.sidebar button{width:100%;margin:10px 0;padding:12px;background:#1e293b;border:none;color:#fff;border-radius:10px}
.main{margin-left:220px;height:100%;position:relative}
#promoBtn{position:absolute;right:20px;top:20px;background:#9333ea;padding:10px 15px;border-radius:10px}
#balance{position:absolute;left:240px;top:20px}

.game{position:absolute;inset:0;display:none;justify-content:center;align-items:center;flex-direction:column}
.active{display:flex}

/* SLOTS */
.slotContainer{display:flex;gap:10px}
.reel{width:80px;height:100px;overflow:hidden;background:#111;border-radius:10px}
.reelInner{display:flex;flex-direction:column;animation:none}
.symbol{height:100px;display:flex;justify-content:center;align-items:center;font-size:40px}
.spinAnim{animation:spin 1s linear infinite}
@keyframes spin{0%{transform:translateY(0)}100%{transform:translateY(-100%)}}

/* CRASH */
#rocket{font-size:50px;position:relative}
.explode{animation:boom .5s forwards}
@keyframes boom{to{transform:scale(2);opacity:0}}

</style>
</head>
<body>

<div id="loginScreen">
 <div class="loginBox">
  <h2>Login</h2>
  <input id="user"><br>
  <button onclick="login()">Enter</button>
 </div>
</div>

<div id="app">
 <div class="sidebar">
  <button onclick="openGame('slots')">üé∞ Slots</button>
  <button onclick="openGame('crash')">üöÄ Rocket</button>
 </div>
 <div class="main">
  <div id="balance">0 ‚≠ê</div>
  <div id="promoBtn" onclick="applyPromo()">üéü</div>

  <div id="slots" class="game">
    <div class="slotContainer">
      <div class="reel"><div id="r1" class="reelInner"></div></div>
      <div class="reel"><div id="r2" class="reelInner"></div></div>
      <div class="reel"><div id="r3" class="reelInner"></div></div>
    </div>
    <button onclick="spin()">SPIN</button>
  </div>

  <div id="crash" class="game">
    <div id="rocket">üöÄ</div>
    <div id="multi">x1.00</div>
    <button onclick="startCrash()">START</button>
    <button onclick="cashout()">CASHOUT</button>
  </div>

 </div>
</div>

<script>
let balance=0,user=null,usedPromo=false

function login(){user=userInput.value||'player';balance=Number(localStorage.getItem(user))||0;loginScreen.style.display='none';app.style.display='block';update()}
function update(){balanceEl.innerText=balance+' ‚≠ê';localStorage.setItem(user,balance)}

const userInput=document.getElementById('user')
const loginScreen=document.getElementById('loginScreen')
const app=document.getElementById('app')
const balanceEl=document.getElementById('balance')

function openGame(id){document.querySelectorAll('.game').forEach(g=>g.classList.remove('active'));document.getElementById(id).classList.add('active')}

// SLOTS REAL SPIN
const symbols=['üçí','üíé','7Ô∏è‚É£','üçÄ']
function fillReel(el){el.innerHTML='';for(let i=0;i<10;i++){let d=document.createElement('div');d.className='symbol';d.innerText=symbols[Math.floor(Math.random()*4)];el.appendChild(d)}}

function spin(){
 let r1=document.getElementById('r1'),r2=document.getElementById('r2'),r3=document.getElementById('r3')
 fillReel(r1);fillReel(r2);fillReel(r3)
 r1.classList.add('spinAnim');r2.classList.add('spinAnim');r3.classList.add('spinAnim')

 setTimeout(()=>{
  r1.classList.remove('spinAnim');r2.classList.remove('spinAnim');r3.classList.remove('spinAnim')
  let res=[symbols[Math.floor(Math.random()*4)],symbols[Math.floor(Math.random()*4)],symbols[Math.floor(Math.random()*4)]]
  r1.innerHTML=`<div class='symbol'>${res[0]}</div>`
  r2.innerHTML=`<div class='symbol'>${res[1]}</div>`
  r3.innerHTML=`<div class='symbol'>${res[2]}</div>`

  if(res[0]==res[1]&&res[1]==res[2]){balance+=500}else{balance-=100}
  update()
 },2000)
}

// CRASH FIXED
let crashRun=false,multi=1,interval
function startCrash(){
 if(crashRun)return
 multi=1;crashRun=true
 interval=setInterval(()=>{
  multi+=0.05
  multiEl.innerText='x'+multi.toFixed(2)
  rocket.style.transform=`translateY(-${multi*15}px)`
  if(Math.random()<0.03){
    clearInterval(interval)
    crashRun=false
    rocket.classList.add('explode')
    setTimeout(()=>{rocket.classList.remove('explode');rocket.style.transform='translateY(0)'},500)
  }
 },100)
}

function cashout(){
 if(!crashRun)return
 clearInterval(interval)
 crashRun=false
 balance+=Math.floor(multi*100)
 update()
}

const rocket=document.getElementById('rocket')
const multiEl=document.getElementById('multi')

// PROMO FIX
function applyPromo(){
 if(!usedPromo){balance+=500;usedPromo=true;update();alert('Promo activated')}else alert('Already used')
}

</script>
</body>
</html>
